<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Demo.AppMaui.NotesPage"
             x:Name="Root" 
             Title="Notes Page">
    <VerticalStackLayout Padding="20" Spacing="16" BackgroundColor="#F5F7FA">

        <!-- Título -->
        <Label Text="Gestor de Notas"
           FontSize="28"
           FontAttributes="Bold"
           HorizontalOptions="Center"
           TextColor="#333" />

        <!-- Entrada y botón de agregar -->
        <HorizontalStackLayout Spacing="10" Padding="4">
            <Entry Placeholder="Escribe una nota..."
               Text="{Binding NewNote}"
               WidthRequest="220"
               BackgroundColor="White"
               TextColor="#333"
               PlaceholderColor="#888"
               Margin="0"
               HeightRequest="44"
               VerticalOptions="Center"
               HorizontalOptions="FillAndExpand"
               />
            <Button Text="Agregar"
                Command="{Binding AddNoteCommand}"
                BackgroundColor="#4CAF50"
                TextColor="White"
                CornerRadius="8"
                Padding="12,6"
                />
        </HorizontalStackLayout>

        <!-- Última acción -->
        <Label Text="{Binding LastAction}"
           FontAttributes="Italic"
           FontSize="14"
           TextColor="#555"
           HorizontalOptions="Center"
           />

        <!-- Lista de notas -->
        <CollectionView ItemsSource="{Binding Notes}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Margin="0,6"
                       Padding="10"
                       BackgroundColor="White"
                       BorderColor="#ddd"
                       CornerRadius="10"
                       HasShadow="True">
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0"
                               Text="{Binding Title}"
                               VerticalOptions="Center"
                               FontSize="16"
                               TextColor="#222" />
                            <Button Grid.Column="1"
                                Text="Eliminar"
                                BackgroundColor="#E53935"
                                TextColor="White"
                                CornerRadius="8"
                                Padding="10,4"
                                Command="{Binding Source={x:Reference Root}, Path=BindingContext.RemoveNoteCommand}"
                                CommandParameter="{Binding .}" />
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>

</ContentPage>